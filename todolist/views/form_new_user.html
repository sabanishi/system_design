{{ template "header" . }}
<h1>ユーザ登録</h1>
{{ if .Error }}
<p><font color="#FF0000">{{ .Error }}</font>
<p>
    {{ end }}
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
              crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <title>Form</title>
    </head>
<form action="/user/new" method="POST">
    <label>ユーザ名: </label><input type="text" name="username" required><br>
    <label>パスワード: </label>
    <input type="password" name="password" required>
    <i id = "eye" class="fa-regular fa-eye-slash"></i>
    <br>
    <label>パスワード(確認)</label><input type="password" name="password_confirm" required>
    <i id = "eye2" class="fa-regular fa-eye-slash"></i>
    <br>
    <input type="submit" value="登録">
    <a href="/">
        <button type="button">戻る</button>
    </a>
</form>
<br>
<label>パスワードは8文字以上にしてください</label>
{{ template "footer" }}

<script type="text/javascript">
    let eye = document.getElementById('eye');
    eye.addEventListener('click', function () {
        if(this.previousElementSibling.getAttribute('type') == 'password') {
            this.previousElementSibling.setAttribute('type', 'text');
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        }else{
            this.previousElementSibling.setAttribute('type', 'password');
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        }
    })
    let eye2 = document.getElementById('eye2');
    eye2.addEventListener('click', function () {
        if(this.previousElementSibling.getAttribute('type') == 'password') {
            this.previousElementSibling.setAttribute('type', 'text');
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        }else{
            this.previousElementSibling.setAttribute('type', 'password');
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        }
    })
</script>