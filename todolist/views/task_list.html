{{ template "header" . }}
<head>
    <link rel="stylesheet" href="/assets/task_list_style.css">
</head>
<h1>List of tasks</h1>
<form action="/list" method="GET">
    <input type="text" name="kw" value="{{ .Kw }}">
    <input type="submit" value="検索">
    <br>
    <input type="radio" name="is_done" value="all" checked>
    <label for="all">全て</label><br>

    <input type="radio" name="is_done" value="t">
    <label for="completed">完了済みのみ</label><br>

    <input type="radio" name="is_done" value="f">
    <label for="incomplete">未完了のみ</label><br>
</form>

<p><a href="/task/new">新規登録</a></p>
{{ if not .Tasks }}
    <p>登録データがありません．</p>
{{ else }}
    <table>
        <tr>
            <th>ID</th>
            <th>タイトル</th>
            <th>登録日</th>
            <th>状態</th>
        </tr>
        {{ range $task := .Tasks }}
            <tr>
                <td id = "id"><a href="/task/{{ $task.ID }}">{{ $task.ID }}</a></td>
                <td id = "title">{{ $task.Title }}</td>
                <td id = "date"><time>{{ $task.CreatedAt.Format "2006/1/2 15:04:05" }}</time></td>
                <td id = "status">{{ if $task.IsDone }}済{{ else }}未{{ end }}</td>
            </tr>
        {{ end }}
    </table>
{{ end }}
<form action="/logout" method="POST">
    <input type="submit" value="ログアウト">
</form>
<form action="/delete" method="POST">
    <input type="submit" value="退会">
</form>

{{ template "footer" }}
